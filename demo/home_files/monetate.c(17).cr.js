monetate.c.cr({"data": "// ////\n//\n// JS Action template for MNTTGF 1.3.2 - 23 Abril 2020\n// Template de acci\u00f3n javascript para utilizar con las MONETATE GLOBAL FUNCTIONS (MNTTGF)\n//\n// ////\n// Nueva funcionalidad:\n//  - Nuevos mensajes de \"warning\" para notificar el status de la experiencia.\n//  - Criticidad por defecto a debug\n\n(function() {\n\n  window.monetateQ = window.monetateQ || [];\n\n  var CAMPAIGN = 'lc-a26';\n  //var API_URL = 'https://personalizacion-api.sbx.data.iberia.com/v2/destinations'; // test example\n  //var API_URL = 'https://personalizacion-api.prod.data.iberia.com/v2/destinations'; // prod\n  var API_URL = 'https://personalization.prod.data.iberia.com/v2/destinations'; // prod new endpoint 24/03/23\n\n\n  var TESTNAME = \"T121c - BannerHome personalizado V2.1\";\n  var CAMPAIGN_CODE = 'lc-a26';\n  var ACTIONNAME = \"Variante Zero\";\n  var BANNER_INFO_COOKIE = 'lc-a26-heroBannerData';\n  var PREV_LANG_COOKIE = 'lc-a26-language';\n  var GA_COOKIE_NAME = '_ga';\n  var HEADERS = {\n    X_API_KEY: {\n       //value: '0xbQh3xFTix3AYw1KJDDdptpch0CX9l3' // new preprod key\n       value: 'uR*P*wb_Ep+Q6H=Q' // prod\n    }\n  };\n\n  var gaCookieData = null;\n  var currencydata = null;\n  var emaildata = null;\n  var hashedemaildata = null;\n  var ffnumberdata = null;\n  var geopositiondata = null;\n  var marketdata = null;\n\n\n  // waitFor(getMarket).then(function(market) {\n  //     doTargeting();\n  // });\n\n\n  getGeoposition();\n\n\n  waitFor(function() {\n    setTimeout(function(){\n      getMnttGF();\n      getMarket();\n      getCurrency();\n      getEmail();\n      getHashedemail();\n      getFfnumber();\n    },2000);\n    return marketdata != null;\n  }).then(function() {\n      doTargeting();\n  });\n\n  function doTargeting() {\n\n    if (getCookie(GA_COOKIE_NAME)) {\n      gaCookieData = getCookie(GA_COOKIE_NAME);\n\n      // console.info(\"_ga: \" + gaCookieData);\n      setCookie(BANNER_INFO_COOKIE,\"\",0);\n      getDynamicValues()\n        .then(function(data) {\n          if(data.status.code == \"OK\"){\n\n            log2Con(\"API destinations:\");\n            log2Con(JSON.stringify(data.destinations));\n\n            var destinos = [];\n            log2Con(\"Banner data-analytics:\");\n            document.querySelectorAll(\"article[data-analytics^='heroBanner_'\").forEach(function(herobanner) {\n              var bannername = herobanner.dataset.analytics;\n              log2Con(bannername);\n              destinos.push( bannername.substring(bannername.indexOf('_Home_HeroBanner_') + 17,bannername.length) );\n            });\n            log2Con(\"Banner destinos: \" + destinos);\n\n            var founded = false;\n            for(var i=0; i<data.destinations.length; i++){\n              if(founded == false){\n                if(destinos.indexOf(data.destinations[i].destination) == -1){\n                  setCookie(BANNER_INFO_COOKIE, stringify(data.destinations[i]), 1);\n                  //setGenVar(CAMPAIGN + '-trigger');\n                  log2Con(\"API destino elegido NO existe en banner. Creamos la cookie para el banner.\");\n                  log2Con(JSON.stringify(data.destinations[i]));\n                  founded = true;\n                } else {\n                  log2Con(\"API destino elegido YA existe en banner. No se crea cookie para el banner\");\n                }\n              }\n            }\n\n            T121getDestination.wait4MNTTGF();\n\n          }else{\n            log2Con(\"KO algo fue mal en la llamada al API: \" + data.status.reason);\n          }\n        });\n    }\n    return null;\n  }\n\n  function getDynamicValues() {\n    var data = prepareDataForRequest();\n\n    log2Con(\"Prepare data for API request:\");\n    log2Con(JSON.stringify(data));\n\n    return fetch(API_URL, {\n      method: 'POST',\n      headers: {\n        'X-API-KEY': HEADERS.X_API_KEY.value,\n        'Content-Type': 'application/json',\n      },\n      body: stringify(data)\n    }).then(function(response) {\n      // console.info(\"_gaID API Response: \" + response);\n      return response.json();\n    });\n  }\n\n  function prepareDataForRequest() {\n    return {\n      \"clientid\": modifyCookieForRequest(gaCookieData),\n      \"currency\": currencydata,\n      \"email\": emaildata,\n      \"hashedemail\": hashedemaildata,\n      \"ffnumber\": ffnumberdata,\n      \"geoposition\": geopositiondata,\n      \"market\": marketdata\n    };\n  }\n\n  function modifyCookieForRequest(cookie) {\n    return cookie.slice(6);\n  }\n\n  function isLanguageChanged() {\n    var previousLanguage = getCookie(PREV_LANG_COOKIE);\n    var currentLanguage = getDataLayer() && getDataLayer().idioma;\n\n    if (previousLanguage !== currentLanguage) {\n      setCookie(PREV_LANG_COOKIE, currentLanguage);\n      return true;\n    }\n\n    return false;\n  }\n\n  function waitFor(condition, timeout) {\n    var stopTime = typeof timeout === 'number' ? timeout : 7000;\n    var stop = false;\n    window.setTimeout(function() {\n      stop = true;\n    }, stopTime);\n    return new window.Promise(function(resolve, reject) {\n      (function _innerWaitFor() {\n        var value = condition();\n\n        if (stop) {\n          reject();\n        } else if (value) {\n          resolve(value);\n        } else {\n          window.setTimeout(_innerWaitFor, 50);\n        }\n      })();\n    });\n  }\n\n  function getCurrency() {\n    // currencydata = getDataLayer().moneda;\n    currencydata = document.getElementById(\"SearcherContent\").getAttribute(\"data-currency\");\n    // console.log(\"moneda: \" + currencydata);\n  }\n  function getEmail() {\n\n    var customerDataJSON;\n    if(window.sessionStorage.getItem(\"customerData\") != null)\n      JSON.parse(window.sessionStorage.getItem(\"customerData\"));\n    else\n      JSON.parse(window.sessionStorage.getItem(\"customerDataZero\"));\n    emaildata = customerDataJSON != null ? customerDataJSON.email : null;\n    // emaildata = customerDataJSON.email;\n    // console.log(\"email: \" + emaildata);\n  }\n  function getHashedemail() {\n    hashedemaildata = typeof getDataLayer().hashEID !== \"undefined\" ? getDataLayer().hashEID : null;\n    // console.log(\"hashEID: \" + hashedemaildata);\n  }\n  function getFfnumber() {\n    ffnumberdata = typeof getDataLayer().userID !== \"undefined\" ? parseInt(getDataLayer().userID) : null;\n    // console.log(\"userId: \" + ffnumberdata);\n    // 20220905 - ffnumber se requiere como entero y no como string\n  }\n  function getGeoposition() {\n    var options = {\n      enableHighAccuracy: true,\n      timeout: 2000,\n      maximumAge: 0\n    };\n\n    navigator.geolocation.getCurrentPosition(\n      function success(pos) {\n        var crd = pos.coords;\n        // console.log(\"geolocation ok: \" + crd.latitude + \" | \" + crd.longitude);\n        geopositiondata = {\n          latitude: crd.latitude,\n          longitude: crd.longitude\n        };\n      },\n      function error(err) {\n        console.warn('ERROR(' + err.code + '): ' + err.message);\n        // console.log(\"geolocation ko: \" + crd.latitude + \" | \" + crd.longitude);\n      },\n      options\n    );\n    //  console.log(\"getGeoposition: \" + geopositiondata);\n  }\n  function getMarket() {\n    marketdata = typeof getDataLayer().mercado !== \"undefined\" ? getDataLayer().mercado : null;\n    // console.log(\"mercado: \" + marketdata);\n  }\n\n  function getMnttGF() {\n    return (\n      window.mnttGF\n    );\n  }\n\n  function getDataLayer() {\n    try {\n      return window.datalayer_general;\n    } catch (error) {\n      return false;\n    }\n  }\n\n  function stringify(val) {\n    return val && JSON.stringify(val);\n  }\n\n  function setGenVar(name) {\n    window.monetateQ = window.monetateQ || [];\n    window.monetateQ.push(['setCustomVariables', [{\n      name: name,\n      value: 'true'\n    }]]);\n    window.monetateQ.push(['trackData']);\n  }\n\n  function getCookie(name) {\n    var matches = document.cookie.match(new RegExp(\n      '(?:^|; )' + name.replace(/([\\.$?*|{}\\(\\)\\[\\]\\\\\\/\\+^])/g, '\\\\$1') + '=([^;]*)'\n    ));\n    return matches ? decodeURIComponent(matches[1]) : undefined;\n  }\n\n  function setCookie(c_name, value, exdays, c_domain) {\n    c_domain = (typeof c_domain === 'undefined') ? '' : 'domain=' + c_domain + ';';\n    var exdate = new Date(new Date().getTime() + (24 * exdays * 1000 * 60 * 60));\n    var c_value = escape(value) + ((exdays === null) ? '' : '; expires=' + exdate.toUTCString());\n    document.cookie = c_name + '=' + c_value + ';' + c_domain + 'path=/';\n  }\n\n    /////////////////////////////////////////////\n    ////////// funciones proxy para MNTTGF //////\n    /////////////////////////////////////////////\n\n    function log2Con(texto,criticidad) {\n      mnttLog2Con(TESTNAME,ACTIONNAME,texto,criticidad);\n  }\n\n  function obj2Con(objeto) {\n      mnttObj2Con(TESTNAME,ACTIONNAME,objeto);\n  }\n\n  function log2GTM() {\n      mnttLog2GTM(TESTNAME,ACTIONNAME);\n  }\n\n  function log2TL() {\n      mnttLog2TL(TESTNAME,ACTIONNAME);\n  }\n\n  function error2TL(Error) {\n    mnttError2TL(TESTNAME,ACTIONNAME,Error);\n  }\n\n/////////////////////////////////////////\n\n\n\n\n\nvar T121getDestination = (function() {\n\n  var publicFunctions = {};\n\n  try {\n    var TESTNAME = \"T121c - BannerHome personalizado V2.1\";\n    var CAMPAIGN_CODE = 'lc-a26';\n    var ACTIONNAME = \"Variante Zero\";\n    var CTA_CLICK_EVENT = 'ctaClick';\n    var CTA_SELECTOR = 't121c-cta-v2';\n    var BANNER_ANALYTICS_ID = \"heroBanner_3_T121c_BannerPersonalizado_V2.1_VarianteB\";\n    var BANNER_ANALYTICS_ID_BUTTON = \"heroBanner_3_cta_T121c_BannerPersonalizado_V2.1_VarianteB\";\n\n    var t121 = {};\n\n   t121.strings = {\n    es: {\n      titles: ['\u00bfTe imaginas estar ah\u00ed?', 'Tu sue\u00f1o, a solo un clic ', '\u00bfA qu\u00e9 esperas? \u00a1Reg\u00e1latelo!', '\u00a1Vive la experiencia!', '\u00bfTe vienes?'],\n      condition: 'Desde',\n      to: 'ida',\n      from: 'vuelta',\n      ctaText: 'RESERVA YA TU VUELO',\n      ctaLinkTemplate: '/vuelos-baratos/',\n      noPriceText: 'Consigue tu vuelo al mejor precio'\n    },\n    en: {\n      titles: ['Imagine being there?', 'What are you waiting for?', 'Treat yourself!', 'Live the experience!', 'Are you coming?'],\n      condition: 'From',\n      to: 'departure',\n      from: 'return',\n      ctaText: 'BOOK YOUR FLIGHT NOW',\n      ctaLinkTemplate: '/cheap-flights/',\n      noPriceText: 'Book your flight at the best price'\n    },\n    ca: {\n      titles: ['T\\'imagines ser aqu\u00ed?', 'El teu somni, a nom\u00e9s un clic ', 'Qu\u00e8 esperes? Regala-t\\'ho', 'Viu l\\'experi\u00e8ncia!', 'Vens?'],\n      condition: 'Des de',\n      to: 'anada',\n      from: 'tornada',\n      ctaText: 'RESERVA ARA EL TEU VOL',\n      ctaLinkTemplate: '/vols-barats/',\n      noPriceText: 'Aconsegueix el teu vol al millor preu'\n    },\n    de: {\n      titles: ['<div style=\"font-size: 60%;\">K\u00f6nnen Sie sich vorstellen, dort zu sein?</div>', '<div style=\"font-size: 60%;\">Ihr Traum, nur einen Klick entfernt</div> ', '<div style=\"font-size: 60%;\">Worauf warten Sie noch? Beschenken Sie sich!</div>', '<div style=\"font-size: 60%;\">Erleben Sie diese Erfahrung!</div>', 'Kommen Sie mit?'],\n      condition: 'Ab',\n      to: 'hin',\n      from: 'r\u00fcckflug',\n      ctaText: 'Buchen Sie jetzt Ihren Flug',\n      ctaLinkTemplate: '/flugangebote/',\n      noPriceText: 'Sichern Sie sich Ihren Flug zum besten Preis'\n    },\n    fr: {\n      titles: ['Vous imaginez-vous l\u00e0-bas ?', 'Votre r\u00eave, \u00e0 port\u00e9e de clic ', '<div style=\"font-size: 60%;\">Qu\\'attendez-vous ? Faites-vous ce cadeau !</div>', 'Profitez de l\\'exp\u00e9rience !', 'Vous venez ?'],\n      condition: '\u00c0 partir de',\n      to: 'aller',\n      from: 'retour',\n      ctaText: 'R\u00e9servez votre vol d\u00e8s maintenant',\n      ctaLinkTemplate: '/vols-pas-cher/',\n      noPriceText: 'Achetez votre billet au meilleur prix'\n    },\n    it: {\n      titles: ['<div style=\"font-size: 60%;\">Immagina di poter essere proprio l\u00ec!</div>', 'Un sogno a portata di clic ', 'Cosa aspetti? Regalatelo!', 'Vivi l\\'esperienza!', 'Vieni?'],\n      condition: 'Da',\n      to: 'andata',\n      from: 'ritorno',\n      ctaText: 'Prenota subito il tuo volo',\n      ctaLinkTemplate: '/offerte-voli/',\n      noPriceText: 'Acquista il tuo volo al prezzo pi\u00f9 conveniente'\n    },\n    pt: {\n      titles: ['Imagina estar a\u00ed?', '<div style=\"font-size: 60%;\">O seu sonho em apenas um clique</div>', '<div style=\"font-size: 60%;\">Que est\u00e1 a esperar? D\u00ea-se esse presente!</div>', 'Viva a experi\u00eancia!', 'Vem da\u00ed?'],\n      condition: 'A partir de',\n      to: 'ida',\n      from: 'volta',\n      ctaText: 'Reserve j\u00e1 o seu voo',\n      ctaLinkTemplate: '/voos-baratos/',\n      noPriceText: 'Consiga o seu voo ao melhor pre\u00e7o'\n    },\n    nl: {\n      titles: ['<div style=\"font-size: 60%;\">Kun jij jezelf daar voorstellen?</div>', 'Je droom, op slechts \u00e9\u00e9n klik ', '<div style=\"font-size: 60%;\">Waar wacht je op? Doe het jezelf cadeau!</div>', 'Beleef de ervaring!', 'Kom je?'],\n      condition: 'Vanaf',\n      to: 'heenvlucht',\n      from: 'terugvlucht',\n      ctaText: 'Reserveer nu al je vlucht',\n      ctaLinkTemplate: '/goedkopevluchten/',\n      noPriceText: 'Koop je vlucht tegen de beste prijs'\n    },\n    ru: {\n      titles: ['\u0425\u043e\u0442\u0435\u043b\u0438 \u0431\u044b \u043e\u043a\u0430\u0437\u0430\u0442\u044c\u0441\u044f \u0437\u0434\u0435\u0441\u044c?', '<div style=\"font-size: 60%;\">\u0412\u0430\u0448\u0430 \u043c\u0435\u0447\u0442\u0430 \u0432 \u043e\u0434\u043d\u043e\u043c \u043a\u043b\u0438\u043a\u0435 \u043e\u0442 \u0432\u0430\u0441 </div>', '<div style=\"font-size: 60%;\">\u0427\u0435\u0433\u043e \u0436\u0435 \u0432\u044b \u0436\u0434\u0435\u0442\u0435? \u0421\u0434\u0435\u043b\u0430\u0439\u0442\u0435 \u0441\u0435\u0431\u0435 \u043f\u043e\u0434\u0430\u0440\u043e\u043a!</div>', '<div style=\"font-size: 60%;\">\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u044d\u0442\u0438 \u0432\u043f\u0435\u0447\u0430\u0442\u043b\u0435\u043d\u0438\u044f!</div>', '\u0412\u043f\u0435\u0440\u0435\u0434?'],\n      condition: '\u0432 \u043e\u0431\u0430 \u043a\u043e\u043d\u0446\u0430 \u043e\u0442',\n      to: '\u0432\u044b\u043b\u0435\u0442',\n      from: '\u041e\u0431\u0440\u0430\u0442\u043d\u044b\u0439 \u0440\u0435\u0439\u0441',\n      ctaText: '\u0417\u0430\u0431\u0440\u043e\u043d\u0438\u0440\u0443\u0439\u0442\u0435 \u0441\u0432\u043e\u0439 \u0440\u0435\u0439\u0441 \u0441\u0435\u0439\u0447\u0430\u0441',\n      ctaLinkTemplate: '/predlozheniya-reysov/',\n      noPriceText: '\u041f\u043e\u043b\u0443\u0447\u0438\u0442\u0435 \u0441\u0432\u043e\u0439 \u0440\u0435\u0439\u0441 \u043f\u043e \u043b\u0443\u0447\u0448\u0435\u0439 \u0446\u0435\u043d\u0435'\n    },\n    cn: {\n      titles: ['\u60a8\u60f3\u8c61\u8fc7\u8981\u53bb\u90a3\u91cc\u5417\uff1f', '<div style=\"font-size: 60%;\">\u60a8\u7684\u68a6\u60f3\u53ea\u9700\u70b9\u51fb\u9f20\u6807\u5373\u53ef\u5b9e\u73b0</div> ', '\u8fd8\u7b49\u4ec0\u4e48\u5462\uff1f \u7acb\u5373\u6ce8\u518c\uff01', '\u5373\u53ef\u4f53\u9a8c\uff01', '\u8bd5\u8bd5\u5417\uff1f'],\n      condition: '\u4ece\u5f80\u8fd4',\n      to: '\u79bb\u5f00',\n      from: '\u56de\u7a0b\u98de\u673a',\n      ctaText: '\u7acb\u5373\u9884\u8ba2\u60a8\u7684\u822a\u73ed',\n      ctaLinkTemplate: '/cheap-flights_zh/',\n      noPriceText: '\u4ee5\u6700\u4f18\u60e0\u7684\u4ef7\u683c\u642d\u4e58\u822a\u73ed'\n    },\n    ja: {\n      titles: ['<div style=\"font-size: 60%;\">\u3042\u306e\u5834\u6240\u306b\u3044\u308b\u3053\u3068\u3092\u60f3\u50cf\u3067\u304d\u307e\u3059\u304b\u3002</div>', '<div style=\"font-size: 60%;\">\u3042\u306a\u305f\u306e\u5922\u304c\u30ef\u30f3\u30af\u30ea\u30c3\u30af\u3067\u53f6\u3044\u307e\u3059 </div>', '<div style=\"font-size: 60%;\">\u8ff7\u3046\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093 \u81ea\u5206\u3078\u306e\u3054\u8912\u7f8e\u306b\uff01</div>', '<div style=\"font-size: 60%;\">\u6700\u9ad8\u306e\u30a8\u30af\u30b9\u30da\u30ea\u30a8\u30f3\u30b9\uff01</div>', '<div style=\"font-size: 60%;\">\u662f\u975e\u3054\u4e00\u7dd2\u306b\u884c\u304d\u307e\u3057\u3087\u3046</div>'],\n      condition: '\u304b\u3089\u306e\u5f80\u5fa9',\n      to: '\u51fa\u767a',\n      from: '\u5e30\u308a\u306e\u30d5\u30e9\u30a4\u30c8',\n      ctaText: '\u4eca\u3059\u3050\u30d5\u30e9\u30a4\u30c8\u3092\u4e88\u7d04\u3059\u308b',\n      ctaLinkTemplate: '/cheap-flights_ja/',\n      noPriceText: '\u6700\u9ad8\u306e\u4fa1\u683c\u3067\u30d5\u30e9\u30a4\u30c8\u3092\u30b2\u30c3\u30c8'\n    }\n  };\n\n    t121.ORIGIN_CITIES_CODE = 'V-O';\n    t121.DESTINATION_CITIES_CODE = 'V-D';\n    t121.lang = \"\";\n    // t121.mercadosTarget = \"PT CZ BE AT NL ES DE FR IT JP ZH GB\";\n    // t121.idiomasTarget = \"PT DE FR CA EN ES IT NL RU CN JA\";\n\n    // TOCHECK: Lista de mercados si tiene que convivir con una Woffer\n    // dejar a \"\" si no hay ninguna campa\u00f1a activa con la que convivir\n    // t121.mercadosWofferTarget = \"\";\n\n    // Lista mercados BF completa, pero s\u00f3lo vamos a usar los coincidentes con la personalizaci\u00f3n actual\n    // t121.mercadosWofferTarget = \"ES, FR, IT, DE, GB, CH, PT, CO, AR, BR, CL, PE, PA, EC, UY, CR, US, DO, AT, BE, GT, SV, CU, PR\";\n\n    // Lista mercados WOFFER 2022:\n    // t121.mercadosWofferTarget = \"GB PT BE AT ES DE FR IT\";\n\n    t121.cumpleCondiciones = true;\n\n    // nivel de criticidad de los mensajes de consola\n    t121.defaultLogLevel = \"debug\";\n    //Para dejar trazas en el DOM\n    //t121.defaultLogLevel = \"info\";\n\n\n    //// bloque de espera de carga de las Monetate Global Functions (MNTTGF) y lanzamiento de la experiencia\n    ////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        t121.MNTTGFTimeout = 10000; // timeout de carga de las MNTTGF\n        t121.timeoutMNTTGF = false;\n\n        console.debug(new Date().toTimeString() + \" - [\" + TESTNAME + \"|\" + ACTIONNAME + \"] - waiting 4 MNTTGF to load...\");\n\n        // defino timeout de carga de la MNTTGF\n        t121.timeoutTimer=setTimeout(function(){\n          t121.timeoutMNTTGF=true;\n        },t121.MNTTGFTimeout);\n\n\n        //bucle de espera de carga de las MNTTGF\n        publicFunctions.wait4MNTTGF = function () {\n          // (function wait4MNTTGF() {\n          if (window.mnttGF && typeof(init) !== \"undefined\") {\n            log2Con(\"MNTTGF detected!! :)\",t121.defaultLogLevel);\n            init(); // Se lanza la experiencia\n          }\n          else if (t121.timeoutMNTTGF) {\n            timestamp = new Date().toLocaleString();\n            texto = \"MNTTGF TIMEOUT!!!: No se ha cargado la experiencia MONETATE GLOBAL FUNCTIONS :(\";\n            aviso = timestamp + \" [\" + testName + \"|\" + variantName + \"]:--> \" + texto;\n\n            console.error(aviso);\n\n            avisoHTML='<div><div>'+timestamp+'</div>'+'<div class=\"mnttgf_warning\"> [' + testName + '|' + variantName + ']: ' + texto + '</div></div>';\n\n            // lo metemos en el DOM para que lo registre QM\n\n            if (document.getElementById(\"MNTT_LOGS\")==null) {\n              output_tealeaf = '<div data-nosnippet id=\"MNTT_LOGS\" class=\"mnttgf_logs\"></div>';\n              document.querySelector(\"body\").insertAdjacentHTML(\"beforeend\", output_tealeaf);\n            }\n\n            idText = mnttTrimText(testName + '_' + variantName);\n\n            if (document.getElementById(idText) == null) {\n              output_tealeaf = '<div id=\"' + idText + '\" class=\"mnttgf_logs\"> Monetate log: [' + testName + '][' + variantName + '] </div>';\n              document.getElementById(\"MNTT_LOGS\").insertAdjacentHTML(\"beforeend\", output_tealeaf);\n            }\n\n            document.getElementById(idText).insertAdjacentHTML(\"beforeend\",avisoHTML);\n\n          }\n          else { //seguimos a la espera\n            t121.waitTimer=setTimeout(wait4MNTTGF,100);\n          }\n        };\n        // })();\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n    //// Bloque de la experiencia\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n        function init() {\n\n          mnttWhen({\n\n            //testName (No Test Name)\n            //variantName (No Variant Name)\n            //actionCondition (trueFn)\n            //actionCallback (trueFn)\n            //stopCondition (falseFn)\n            //stopCallback (trueFn)\n            //timeoutExpiration (5000)\n            //timeoutCallback (trueFn)\n\n            testName: TESTNAME,\n            variantName: ACTIONNAME,\n            actionCondition: isDataLayerAndJQuery,\n            actionCallback: function() {\n              // define the Variants conditions here\n              ///////////////////////////////////////////////\n              getIdiomaMercado()\n              // checkIdioma()\n              // .then(checkMarket)\n              .then(checkG24Cookie)\n              .then(newImageExists)\n              .then(checkImage)\n\n              // End Variants conditions\n              //////////////////////////\n\n              //Variant Render\n                .then(renderVariant);\n            }\n          });\n        } // end init()\n\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    /// Bloque functiones locales\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    // funcion DOM ready Condition\n    /////////////////////////////////\n\n      function isDataLayerAndJQuery() {\n        return (\n          window.jQuery &&\n          window.datalayer_general &&\n          window.datalayer_general.idioma &&\n          window.datalayer_general.mercado\n        );\n      } // end isDataLayerAndJQuery\n\n    // Variant conditions functions\n    ////////////////////////////////\n\n      function getIdiomaMercado() {\n        var dfd = $.Deferred();\n        log2Con(\"getIdioma enter\",\"debug\");\n        if ( typeof window.datalayer_general.idioma != \"undefined\" && typeof window.datalayer_general.mercado != \"undefined\" ) {\n          t121.lang = window.datalayer_general.idioma;\n          t121.mercado = window.datalayer_general.mercado;\n          log2Con(\"Idioma ok \");\n          dfd.resolve();\n        } else {\n          log2Con(\"Idioma KO \");\n          dfd.reject();\n        }\n        log2Con(\"getIdioma exit\",\"debug\");\n        return dfd.promise();\n      }\n\n      // function checkIdioma() {\n      //   var dfd = $.Deferred();\n      //   log2Con(\"checkIdioma enter\",\"debug\");\n      //   if (t121.idiomasTarget.indexOf(window.datalayer_general.idioma.toUpperCase())>=0) {\n      //     t121.lang = window.datalayer_general.idioma;\n      //     log2Con(\"Idioma ok \");\n      //     dfd.resolve();\n      //   } else {\n      //     log2Con(\"Idioma KO \");\n      //     dfd.reject();\n      //   }\n      //   log2Con(\"checkIdioma exit\",\"debug\");\n      //   return dfd.promise();\n      // }\n\n      // function checkMarket() {\n      //   var dfd = $.Deferred();\n      //   log2Con(\"checkMarket enter\",\"debug\");\n      //   if (t121.mercadosTarget.indexOf(window.datalayer_general.mercado.toUpperCase())>=0 && t121.mercadosWofferTarget.indexOf(window.datalayer_general.mercado.toUpperCase()) == -1) {\n      //     t121.mercado = window.datalayer_general.mercado;\n      //     log2Con(\"Mercado ok\");\n      //     dfd.resolve();\n      //   } else {\n      //     log2Con(\"Mercado KO\");\n      //     dfd.reject();\n      //   }\n      //   log2Con(\"checkMarket exit\",\"debug\");\n      //   return dfd.promise();\n      // }\n\n      function checkG24Cookie() {\n        var dfd = $.Deferred();\n        var BANNER_INFO_COOKIE = 'lc-a26-heroBannerData';\n\n        log2Con(\"checkG26Cookie enter\",\"debug\");\n        waitFor(function() {\n          return !!getCookie(BANNER_INFO_COOKIE);\n        }).then(function() {\n          // t121.bannerData = getCookie(BANNER_INFO_COOKIE) && JSON.parse(getCookie(BANNER_INFO_COOKIE)).destination;\n          t121.bannerData = getCookie(BANNER_INFO_COOKIE) && JSON.parse(getCookie(BANNER_INFO_COOKIE));\n          if (!!t121.bannerData) {\n\n            //Recuperamos las ciudades\n            t121.ORIGIN_CITY_DATA = getCityByCode(t121.ORIGIN_CITIES_CODE, t121.bannerData.origin);\n            t121.DESTINATION_CITY_DATA = getCityByCode(t121.DESTINATION_CITIES_CODE, t121.bannerData.destination);\n\n            //Seleccionamos una imagen para el banner\n            t121.imageToCheck='https://www.iberia.com/wcs/imagenes/dest-virt/herobanner_1precio_' + t121.DESTINATION_CITY_DATA.code.toLowerCase() + '_01_1280.jpg';\n            t121.newImageSrcChecked=\"\";\n\n            //Definimos la landing\n\n            var normalizedDestinationCity = normalizeCityname(t121.DESTINATION_CITY_DATA.description);\n            var normalizedOriginCity = normalizeCityname(t121.ORIGIN_CITY_DATA.description);\n            t121.CTAHref='https://www.iberia.com/' + t121.mercado.toLowerCase() + t121.strings[t121.lang].ctaLinkTemplate + normalizedOriginCity + '-' + normalizedDestinationCity;\n\n            //Definimos la moneda\n            t121.CURRENCY=\"\";\n            switch (t121.bannerData.currency) {\n              case \"GBP\":\n                t121.CURRENCY=\"\u00a3\";\n                break;\n              case \"USD\":\n                t121.CURRENCY=\"$\";\n                break;\n              case \"EUR\":\n                t121.CURRENCY=\"\u20ac\";\n                break;\n              default:\n                t121.CURRENCY=t121.bannerData.currency;\n            }\n\n            log2Con(\"Cookie ok\");\n            dfd.resolve();\n          } else {\n            log2Con(\"Cookie KO\");\n            dfd.reject();\n          }\n        }).catch(function() {\n          log2Con(\"Cookie KO\");\n            dfd.reject();\n        });\n\n        log2Con(\"checkG26Cookie exit\",\"debug\");\n        return dfd.promise();\n      }\n\n      function newImageExists() {\n        var dfd = $.Deferred();\n        log2Con(\"checkImagenExist enter\",\"debug\");\n        fetch(t121.imageToCheck, {\n          method: 'HEAD'\n        }).then(function(response){\n\n          if (response.status === 200) {\n            newImageSrcChecked = 'success';\n            dfd.resolve();\n          } else {\n            newImageSrcChecked = 'error';\n            dfd.resolve();\n          }\n\n        });\n\n        log2Con(\"NewImagen fetched\");\n\n        log2Con(\"checkImagenExist exit\",\"debug\");\n        return dfd.promise();\n\n      }\n\n      function checkImage() {\n        var dfd = $.Deferred();\n        log2Con(\"checkImagen enter\",\"debug\");\n\n        waitFor(function() {\n          return newImageSrcChecked === 'success' || newImageSrcChecked === 'error';\n        }).then(function() {\n          if (newImageSrcChecked === 'success'){\n            t121.bannerImage='https://www.iberia.com/wcs/imagenes/dest-virt/herobanner_1precio_' + t121.DESTINATION_CITY_DATA.code.toLowerCase() + '_01';\n            log2Con(\"Imagen ok\");\n            dfd.resolve();\n          } else {\n            t121.bannerImage='https://www.iberia.com/wcs/imagenes/dest-virt/herobanner_generico_0' + (Math.floor(Math.random()*5) + 1);\n            log2Con(\"Imagen Default\");\n            dfd.resolve();\n          }\n          log2Con(\"checkImagen exit\",\"debug\");\n          return dfd.promise();\n        });\n      }\n    // End funciones Variant conditions\n    ///////////////////////////////////\n\n    // Bloque funcion Variant Render\n    ////////////////////////////////////\n\n      function renderVariant() {\n\n        // Variant status definition\n        ////////////////////////////\n\n        // If at that point you are defining listener, observers, or other artifacts that doesn't change el original application behaviour,\n        // report now the experience status as \"OK - Waiting\" and include a status change to \"OK - Rendered\" in the listener/observer definition\n\n        //log2Con(\"OK - Waiting\",\"warning\");\n\n        // If you are modifing the original application behaviour, then report as \"OK - Rendered\"\n\n\n\n        // Your code here!!!\n        ///////////////////////////////\n\n          //seleccionamos un titulo de la lista\n          t121.randomTitle = getRandomItemFromArr(t121.strings[t121.lang].titles);\n\n          //recuperamos el HTML segun el tipo de respuesta del servicio\n          if (!!t121.bannerData) {\n\n            log2Con(\"OK - Rendered\",\"warning\");\n            log2GTM();\n\n            if (!!t121.bannerData.amount) {\n              htmlOutput = createOffersHtml();\n            } else {\n              //document.body.classList.add('lc-a26-no-price');\n              htmlOutput = createOffersHtmlIfNoPrice();\n            }\n\n\n            // https://kenwheeler.github.io/slick/\n            if( $('.slick-full-window.slick-slider').slick('getSlick').slideCount == 1)\n              $('.slick-full-window.slick-slider').slick('slickAdd', htmlOutput, 0); // index or addBefore\n            else\n              $('.slick-full-window.slick-slider').slick('slickAdd', htmlOutput, 1); // index or addBefore\n            //$('.slick-full-window.slick-slider').slick('slickGoTo', 1); // int : slide number, boolean: dont animate\n\n            //Listener para GTM\n            var cta = document.querySelector(\"#\" + CTA_SELECTOR);\n            cta.addEventListener('click', function(e) {\n\n              // log2GTM(TESTNAME + '|' + ACTIONNAME, CTA_CLICK_EVENT);\n\n              document.querySelector(\"#flight_origin1\").value = t121.ORIGIN_CITY_DATA.description + \" (\" + t121.ORIGIN_CITY_DATA.code + \")\";\n              // document.querySelector(\"#flight_origin1\").dispatchEvent(new Event('input'));\n              document.querySelector(\"#flight_destiny1\").value = t121.DESTINATION_CITY_DATA.description + \" (\" + t121.DESTINATION_CITY_DATA.code + \")\";\n              // document.querySelector(\"#flight_destiny1\").dispatchEvent(new Event('input'));\n\n              if(t121.bannerData.inboundDate != null && t121.bannerData.inboundDate != \"\"){\n                log2Con(\"Ida y vuelta\",t121.defaultLogLevel);\n                // Ida y vuelta\n\n                // document.querySelector(\"#ticketops-seeker-button > span.ui-selectmenu-text\").click();\n                // document.querySelector(\"#ticketops-seeker-menu > li:nth-child(1) > div\").click();\n                $('#ticketops-seeker > #return').prop('selected', true).closest('select').selectmenu('refresh');\n\n                document.querySelector(\"#flight_round_date1\").value = transformDateFormat(t121.bannerData.outboundDate);\n                document.querySelector(\"#flight_round_date1\").dispatchEvent(new Event('input'));\n                log2Con(\"#flight_round_date1: \" + t121.bannerData.outboundDate,t121.defaultLogLevel);\n\n                document.querySelector(\"#flight_return_date1\").value = transformDateFormat(t121.bannerData.inboundDate);\n                document.querySelector(\"#flight_return_date1\").dispatchEvent(new Event('input'));\n                log2Con(\"#flight_return_date1: \" + t121.bannerData.inboundDate,t121.defaultLogLevel);\n              }else{\n                // S\u00f3lo ida\n\n                $('#ticketops-seeker > #oneway').prop('selected', true).closest('select').selectmenu('refresh');\n\n                document.querySelector(\"#flight_round_date1\").value = transformDateFormat(t121.bannerData.outboundDate);\n                document.querySelector(\"#flight_round_date1\").dispatchEvent(new Event('input'));\n                log2Con(\"#flight_round_date1: \" + t121.bannerData.outboundDate,t121.defaultLogLevel);\n              }\n\n              // Si tiene un href definido, lo llevamos a la landing\n              if(typeof e.href == \"undefined\"){\n                document.querySelector(\"#buttonSubmit1\").click();\n              }\n\n            });\n\n            log2GTM(TESTNAME + '|' + ACTIONNAME, 'recomendaci\u00f3n ' + t121.bannerData.rank);\n          } else {\n            log2Con (\"Respuesta vacia del servicio!!\", \"warning\");\n          }\n\n        ///////////////////////////////\n\n        log2Con(\"Fin de la variante\",t121.defaultLogLevel);\n        }\n\n    // End funcion Variant Render\n    ////////////////////////////////////\n\n\n\n\n      function createOffersHtml() {\n        return ['' +\n        '<div class=\"lc-a26\">'+\n        '<div>' +\n          '<article itemscope=\"\" itemtype=\"http://schema.org/Product\" class=\"row lc-a26-modifyed-slide\" data-analytics=\"' + BANNER_ANALYTICS_ID + '\" style=\"width: 100%; display: inline-block;\">' +\n          ' <div class=\"ibe-search-flights__cover-img-container\">' +\n          '   <figure class=\"ibe-search-flights__cover-fig\">' +\n          '     <picture class=\"lazyLoadCarousel\">' +\n          '       <source media=\"(min-width: 1280px)\" srcset=\"' + t121.bannerImage + '_1280.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 1024px)\" srcset=\"' + t121.bannerImage + '_1024.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 768px)\" srcset=\"' + t121.bannerImage + '_768.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 480px)\" srcset=\"' + t121.bannerImage + '_480.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 0px)\" srcset=\"' + t121.bannerImage + '_480.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <img itemprop=\"image\" src=\"' + t121.bannerImage + '_1280.jpg\" data-lazys=\"' + t121.bannerImage + '1280.jpg\" class=\"ibe-search-flights__cover-img css-js\">' +\n          '     </picture>' +\n          '   </figure>' +\n          ' </div>' +\n          ' <div class=\"col-xs-12 ibe-carousel__full-height\">' +\n\n          // NEW DESIGN\n          '<div class=\"ibe-home__banner-text ibe-home__banner-text--bottom ibe-hero-banner\">' +\n          '<div class=\"ibe-hero-banner__container\">' +\n          '     <h2 itemprop=\"name\" class=\"ibe-hero-banner__title\">' + t121.randomTitle + '</h2>' +\n          // '\t<div class=\"t149-logo-container ibe-hero-banner__box\"><img class=\"mnt-a21-img\" src=\"/wcs/imagenes/booking/woffer/sello_booking_viajamas_xmenos_' + t121.lang + '.png\"></div>' +\n\t\t\t\t\t'\t<div itemprop=\"offers\" class=\"t149-offer-container ibe-hero-banner__box\" itemscope=\"\" itemtype=\"http://schema.org/AggregateOffer\">' +\n\t\t\t\t\t'\t\t<p itemprop=\"areaServed\" class=\"ibe-hero-banner__destination\">' + t121.ORIGIN_CITY_DATA.description.toUpperCase() + ' - ' + t121.DESTINATION_CITY_DATA.description.toUpperCase() + '</p>' +\n\t\t\t\t\t'\t\t<div class=\"ibe-hero-banner__offers\">' +\n\t\t\t\t\t'\t\t\t<div itemprop=\"offers\" itemscope=\"\" itemtype=\"https://schema.org/Offer\" class=\"ibe-hero-banner__offers-box\">' +\n\t\t\t\t\t'\t\t\t\t<p itemprop=\"itemCondition\" class=\"ibe-hero-banner__offers-type\">' + t121.strings[t121.lang].to + ' <span id=\"t149-date1\">' + transformDateFormat(t121.bannerData.outboundDate) + '</span> - ' + t121.strings[t121.lang].from + ' <span id=\"t149-date1\">' + transformDateFormat(t121.bannerData.inboundDate) + '</span></p>' +\n\t\t\t\t\t'\t\t\t\t<p class=\"ibe-hero-banner__offers-start-price t149-condition\">' + t121.strings[t121.lang].condition + '</p>' +\n\t\t\t\t\t'\t\t\t\t<p class=\"ibe-hero-banner__offers-price\">' +\n          '             <span id=\"a26-price\" class=\"ibe-hero-banner__offers-price-total\">' + Math.round(t121.bannerData.amount) + '</span>' +\n          '             <span id=\"a26-currency\" itemprop=\"priceCurrency\" class=\"ibe-hero-banner__offers-price-currency\">' + t121.CURRENCY + '</span>' +\n          '       </p>' +\n\t\t\t\t\t'\t\t\t\t<a itemprop=\"url\" title=\"' + t121.strings[t121.lang].ctaText + '\" class=\"ibe-button ibe-button--red\" data-url-private data-analytics=\"' + BANNER_ANALYTICS_ID_BUTTON + '\" tabindex=\"0\" id=\"' + CTA_SELECTOR + '\">' + t121.strings[t121.lang].ctaText + '</a>' +\n\t\t\t\t\t'\t\t\t</div></div>' +\n\t\t\t\t\t'\t</div>' +\n\t\t\t\t\t'</div>' +\n\n          ' </div>' +\n          '</article>' +\n          '</div>' +\n        '</div>'].join('');\n      }\n\n      function createOffersHtmlIfNoPrice() {\n        return ['' +\n        '<div class=\"lc-a26\">' +\n        '<div>' +\n          '<article itemscope=\"\" itemtype=\"http://schema.org/Product\" class=\"row lc-a26-modifyed-slide\" data-analytics=\"' + BANNER_ANALYTICS_ID + '\" style=\"width: 100%; display: inline-block;\">' +\n          ' <div class=\"ibe-search-flights__cover-img-container\">' +\n          '   <figure class=\"ibe-search-flights__cover-fig\">' +\n          '     <picture class=\"lazyLoadCarousel\">' +\n          '       <source media=\"(min-width: 1280px)\" srcset=\"' + t121.bannerImage + '_1280.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 1024px)\" srcset=\"' + t121.bannerImage + '_1024.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 768px)\" srcset=\"' + t121.bannerImage + '_768.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 480px)\" srcset=\"' + t121.bannerImage + '_480.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <source media=\"(min-width: 0px)\" srcset=\"' + t121.bannerImage + '_480.jpg\" data-lazys=\"' + t121.bannerImage + '_1280.jpg\">' +\n          '       <img itemprop=\"image\" src=\"' + t121.bannerImage + '_1280.jpg\" data-lazys=\"' + t121.bannerImage + '1280.jpg\" alt=\"TCI\" title=\"TCI\" class=\"ibe-search-flights__cover-img css-js\">' +\n          '     </picture>' +\n          '   </figure>' +\n          ' </div>' +\n          ' <div class=\"col-xs-12 ibe-carousel__full-height\">' +\n\n          // NEW DESIGN\n          '<div class=\"ibe-home__banner-text ibe-home__banner-text--bottom ibe-hero-banner\">' +\n          '<div class=\"ibe-hero-banner__container\">' +\n          '     <h2 itemprop=\"name\" class=\"ibe-hero-banner__title\">' + t121.randomTitle + '</h2>' +\n          // '\t<div class=\"t149-logo-container ibe-hero-banner__box\"><img class=\"mnt-a21-img\" src=\"/wcs/imagenes/booking/woffer/sello_booking_viajamas_xmenos_' + t121.lang + '.png\"></div>' +\n\t\t\t\t\t'\t<div itemprop=\"offers\" class=\"t149-offer-container ibe-hero-banner__box\" itemscope=\"\" itemtype=\"http://schema.org/AggregateOffer\">' +\n\t\t\t\t\t'\t\t<p itemprop=\"areaServed\" class=\"ibe-hero-banner__destination\">' + t121.ORIGIN_CITY_DATA.description.toUpperCase() + ' - ' + t121.DESTINATION_CITY_DATA.description.toUpperCase() + '</p>' +\n\t\t\t\t\t'\t\t<div class=\"ibe-hero-banner__offers\">' +\n\t\t\t\t\t'\t\t\t<div itemprop=\"offers\" itemscope=\"\" itemtype=\"https://schema.org/Offer\" class=\"ibe-hero-banner__offers-box\">' +\n\t\t\t\t\t'\t\t\t\t<p itemprop=\"itemCondition\" class=\"ibe-hero-banner__offers-type\">' + t121.strings[t121.lang].noPriceText + '</p>' +\n\t\t\t\t\t'\t\t\t\t<a itemprop=\"url\" href=\"' + t121.CTAHref + '\" title=\"' + t121.strings[t121.lang].ctaText + '\" class=\"ibe-button ibe-button--red\" data-url-private data-analytics=\"' + BANNER_ANALYTICS_ID_BUTTON + '\" tabindex=\"0\" id=\"' + CTA_SELECTOR + '\">' + t121.strings[t121.lang].ctaText + '</a>' +\n\t\t\t\t\t'\t\t\t</div></div>' +\n\t\t\t\t\t'\t</div>' +\n\t\t\t\t\t'</div>' +\n\n\n          '</article>' +\n          '</div>' +\n        '</div>'].join('');\n      }\n\n      function getCityByCode(citiesType, cityCode) {\n        var citiesBackup = getCitiesBackup();\n        var citiesToFilter = citiesBackup[citiesType];\n        var filteredCity = null;\n\n        citiesToFilter.forEach(function(item) {\n          item.cities.forEach(function(city) {\n            if (city.code === cityCode) {\n              filteredCity = city;\n            }\n          });\n        });\n\n        return filteredCity;\n      }\n\n      function getCitiesBackup() {\n        return sessionStorage.getItem('ibe-wcs-cities') &&\n            JSON.parse(sessionStorage.getItem('ibe-wcs-cities'));\n      }\n\n      function isOirinDestinationCitiesExist() {\n        var citiesBackup = getCitiesBackup();\n\n        return citiesBackup[ORIGIN_CITIES_CODE] && citiesBackup[DESTINATION_CITIES_CODE];\n      }\n\n      function normalizeCityname(city) {\n        return city.normalize('NFD').replace(/[\\u0300-\\u036f]/g, '').replaceAll(' ', '-');\n      }\n\n      function transformDateFormat(date) {\n        var YYYYMMDDDateArr = date.split('-');\n\n        var transformeDate = YYYYMMDDDateArr[2] + '/' + YYYYMMDDDateArr[1] + '/' + YYYYMMDDDateArr[0];\n\n        if(document.querySelector(\"#flight_round_date1\").placeholder == 'MM/DD/YYYY')\n          transformeDate = YYYYMMDDDateArr[1] + '/' + YYYYMMDDDateArr[2] + '/' + YYYYMMDDDateArr[0];\n\n        return transformeDate;\n      }\n\n      function getRandomItemFromArr(arr) {\n        var min = 0;\n        var max = arr.length;\n        var randomIndex = Math.floor(Math.random() * (max - min) + min); // The maximum is exclusive and the minimum is inclusive\n\n        return arr[randomIndex];\n      }\n\n\n      function waitFor(condition, timeout) {\n        var stopTime = typeof timeout === 'number' ? timeout : 10000;\n        var stop = false;\n        window.setTimeout(function() {\n          stop = true;\n        }, stopTime);\n        return new window.Promise(function(resolve, reject) {\n          (function _innerWaitFor() {\n            var value = condition();\n\n            if (stop) {\n              reject();\n            } else if (value) {\n              resolve(value);\n            } else {\n              window.setTimeout(_innerWaitFor, 50);\n            }\n          })();\n        });\n      }\n\n\n    /// End Bloque functiones locales\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n  } catch (err) {\n    log2Con(\"ErrorName: \" + err.name, \"error\");\n    log2Con(\"ErrorDescription: \" + err.message, \"error\");\n    error2TL(err);\n  }\n\n\n    /////////////////////////////////////////////\n    ////////// funciones proxy para MNTTGF //////\n    /////////////////////////////////////////////\n\n    function log2Con(texto,criticidad) {\n        mnttLog2Con(TESTNAME,ACTIONNAME,texto,criticidad);\n    }\n\n    function obj2Con(objeto) {\n        mnttObj2Con(TESTNAME,ACTIONNAME,objeto);\n    }\n\n    function log2GTM() {\n        mnttLog2GTM(arguments[0] || TESTNAME, arguments[1] || ACTIONNAME);\n    }\n\n    function log2TL() {\n        mnttLog2TL(TESTNAME,ACTIONNAME);\n    }\n\n    function error2TL(Error) {\n      mnttError2TL(TESTNAME,ACTIONNAME,Error);\n    }\n\n/////////////////////////////////////////\n\n  return publicFunctions;\n\n})();\n//# sourceURL=t121c---bannerhome-personalizado-v21Zero.js\n\n\n})();\n", "ref": "1123/5115971.js"});