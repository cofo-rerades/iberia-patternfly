monetate.c.cr({"data": "  // ////\n  //\n  // JS Action template for MNTTGF 2.0 - 6 febrero 2023\n  // Template de acci\u00f3n javascript para utilizar con las MONETATE GLOBAL FUNCTIONS (MNTTGF) basado en promesas de js\n  //\n  // ////\n  // Nueva funcionalidad:\n  //  - refactorizaci\u00f3n de promesas solo js\n\n  //# sourceURL=t483-translation-service-detection.js\n\n\n\n  (function() {\n\n\n    var testName = \"T483.1 - Translation service detection\";\n    var variantName = \"Variante B\";\n    var t483 = {};\n\n    try {\n    //Carga de configuraci\u00f3n\n    configLoad();\n\n    //Validamos que estan las MNTTGFs\n    wait4MNTTGF()\n    //Si es as\u00ed procedemos con la Variante y si no registramos el problema con MNTTGF\n    .then(processVariant,falloMNTTGFLoad);\n\n    } catch (err)\n    {\n        log2Con(err.toString(), \"error\");\n    }\n\n    //-----------------------------------------\n    // CONFIGURACION DE LA VARIANTE\n    //-----------------------------------------\n\n    function configLoad() {\n\n      //log2Con(\"Cargando configuraci\u00f3n...\",\"debug\");\n      t483.strings = {\n        es: {\n          title: \"Esta p\u00e1gina est\u00e1 siendo traducida por tu navegador\",\n          body: \"Hemos detectado que tu navegador est\u00e1 usando un servicio de traducci\u00f3n externo a Iberia, por lo que no podemos garantizar la correcta visualizaci\u00f3n de nuestras p\u00e1ginas.\",\n          body2: \"Selecciona el idioma de tu preferencia entre los que te mostramos aqu\u00ed:\",\n          label: \"IR A NUESTRO SITIO WEB EN \",\n          btn_accept: \"Aceptar\",\n          btn_reject: \"No, prefiero mantener la traducci\u00f3n por el navegador\"\n        },\n        ca: {\n          title: \"Aquesta p\u00e0gina l'est\u00e0 traduint el teu navegador\",\n          body: \"Hem detectat que el teu navegador est\u00e0 utilitzant un servei de traducci\u00f3 extern a Iberia, per la qual cosa no podem garantir-te la visualitzaci\u00f3 correcta de les nostres p\u00e0gines. \",\n          body2: \"Selecciona el teu idioma preferit entre els que et mostrem aqu\u00ed:\",\n          label: \"VES AL NOSTRE LLOC WEB A\",\n          btn_accept: \"Accepta\",\n          btn_reject: \"No, prefereixo mantenir la traducci\u00f3 del navegador\"\n        },\n        zh: {\n          title: \"\u6b64\u9875\u9762\u7531\u60a8\u7684\u6d4f\u89c8\u5668\u7ffb\u8bd1\",\n          body: \"\u6211\u4eec\u68c0\u6d4b\u5230\u60a8\u7684\u6d4f\u89c8\u5668\u6b63\u5728\u4f7f\u7528\u975e Iberia \u7684\u5916\u90e8\u7ffb\u8bd1\u670d\u52a1\uff0c\u56e0\u6b64\u6211\u4eec\u65e0\u6cd5\u4fdd\u8bc1\u9875\u9762\u7684\u6b63\u786e\u663e\u793a\u3002 \",\n          body2: \"\u8bf7\u4ece\u6b64\u5904\u663e\u793a\u7684\u8bed\u8a00\u4e2d\u9009\u62e9\u60a8\u559c\u6b22\u7684\u8bed\u8a00\uff1a\",\n          label: \"\u8fdb\u5165\u6211\u4eec\u7684\u7f51\u7ad9 \",\n          btn_accept: \"\u63a5\u53d7\",\n          btn_reject: \"\u4e0d\uff0c\u6211\u66f4\u559c\u6b22\u901a\u8fc7\u6d4f\u89c8\u5668\u8fdb\u884c\u7ffb\u8bd1\"\n        },\n        de: {\n          title: \"Diese Website wurde durch Ihren Internetbrowser \u00fcbersetzt.\",\n          body: \"Wir haben festgestellt, dass Ihr Browser einen \u00dcbersetzungsdienst verwendet, der nicht zu Iberia geh\u00f6rt. Daher k\u00f6nnen wir die korrekte Anzeige unserer Seiten nicht garantieren. \",\n          body2: \"W\u00e4hlen Sie die Sprache Ihrer Wahl aus den hier aufgef\u00fchrten Sprachen:\",\n          label: \"BESUCHEN SIE UNSERE WEBSITE UNTER \",\n          btn_accept: \"Annehmen\",\n          btn_reject: \"Nein, ich m\u00f6chte weiterhin die Browser-\u00dcbersetzung nutzen.\"\n        },\n        en: {\n          title: \"This page is being translated by your browser\",\n          body: \"We have detected that your browser is using a third-party translation service and not Iberia's service, so we can't guarantee that our pages will be displayed correctly. \",\n          body2: \"Select your preferred language here:\",\n          label: \"GO TO OUR EN WEBSITE \",\n          btn_accept: \"OK\",\n          btn_reject: \"No, I prefer to keep browser translation\"\n        },\n        fr: {\n          title: \"Cette page est traduite par votre navigateur\",\n          body: \"Nous avons d\u00e9tect\u00e9 que votre navigateur utilisait un service de traduction ext\u00e9rieur \u00e0 Iberia. Nous ne pouvons donc pas vous garantir un affichage correct de nos pages. \",\n          body2: \"S\u00e9lectionnez la langue de votre choix parmi celles propos\u00e9es\u00a0:\",\n          label: \"ALLER SUR NOTRE SITE WEB \u00c0 L'ADRESSE \",\n          btn_accept: \"Accepter\",\n          btn_reject: \"Non, je pr\u00e9f\u00e8re conserver la traduction via le navigateur\"\n        },\n        it: {\n          title: \"Questa pagina viene tradotta dal tuo browser\",\n          body: \"Abbiamo rilevato che il tuo browser utilizza un servizio di traduzione esterno a Iberia, pertanto non possiamo garantire la corretta visualizzazione delle nostre pagine. \",\n          body2: \"Seleziona la tua lingua preferita tra quelle mostrate qui:\",\n          label: \"VAI AL NOSTRO SITO WEB IN \",\n          btn_accept: \"Accetta\",\n          btn_reject: \"No, preferisco continuare a usare la traduzione tramite browser\"\n        },\n        ja: {\n          title: \"\u672c\u30da\u30fc\u30b8\u306f\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u3063\u3066\u7ffb\u8a33\u3055\u308c\u3066\u3044\u307e\u3059\",\n          body: \"\u304a\u4f7f\u3044\u306e\u30d6\u30e9\u30a6\u30b6\u304cIberia\u7ba1\u7406\u5916\u306e\u7ffb\u8a33\u30b5\u30fc\u30d3\u30b9\u3092\u4f7f\u7528\u3057\u3066\u3044\u308b\u3053\u3068\u304c\u691c\u51fa\u3055\u308c\u307e\u3057\u305f\u3002\u3053\u306e\u305f\u3081\u3001\u672c\u30da\u30fc\u30b8\u306e\u6b63\u3057\u3044\u8868\u793a\u3092\u4fdd\u8a3c\u3067\u304d\u307e\u305b\u3093\u3002 \",\n          body2: \"\u3053\u3053\u306b\u8868\u793a\u3055\u308c\u308b\u8a00\u8a9e\u304b\u3089\u3054\u5e0c\u671b\u306e\u3082\u306e\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044\u3002\",\n          label: \"\u6b21\u306e\u8a00\u8a9e\u306eIberia\u30a6\u30a7\u30d6\u30b5\u30a4\u30c8\u306b\u79fb\u52d5\u3059\u308b \",\n          btn_accept: \"\u4e86\u89e3\u3059\u308b\",\n          btn_reject: \"\u3044\u3044\u3048\u3001\u30d6\u30e9\u30a6\u30b6\u306b\u3088\u308b\u7ffb\u8a33\u306e\u307e\u307e\u306b\u3057\u307e\u3059\"\n        },\n        nl: {\n          title: \"Deze pagina is door je browser vertaald\",\n          body: \"We hebben geconstateerd dat je browser gebruikmaakt van een vertaalservice buiten Iberia, waardoor we de correcte weergave van onze pagina's niet kunnen garanderen. \",\n          body2: \"Selecteer je voorkeurstaal uit de talen die we je hier tonen:\",\n          label: \"GA NAAR ONZE WEBSITE OP \",\n          btn_accept: \"Accepteren\",\n          btn_reject: \"Nee, ik geef de voorkeur aan de vertaling via de browser.\"\n        },\n        pt: {\n          title: \"Esta p\u00e1gina est\u00e1 sendo traduzida pelo seu navegador\",\n          body: \"Detectamos que o seu navegador utiliza um servi\u00e7o de tradu\u00e7\u00e3o externo \u00e0 Iberia, por isso n\u00e3o podemos garantir a visualiza\u00e7\u00e3o correta das nossas p\u00e1ginas. \",\n          body2: \"Selecione o idioma de sua prefer\u00eancia entre os mostrados aqui:\",\n          label: \"ACESSAR O NOSSO SITE EM \",\n          btn_accept: \"Aceitar\",\n          btn_reject: \"N\u00e3o, prefiro manter a tradu\u00e7\u00e3o pelo navegador\"\n        },\n        ru: {\n          title: \"\u042d\u0442\u0430 \u0441\u0442\u0440\u0430\u043d\u0438\u0446\u0430 \u0431\u044b\u043b\u0430 \u043f\u0435\u0440\u0435\u0432\u0435\u0434\u0435\u043d\u0430 \u0432\u0430\u0448\u0438\u043c \u0431\u0440\u0430\u0443\u0437\u0435\u0440\u043e\u043c\",\n          body: \"\u041c\u044b \u043e\u0431\u043d\u0430\u0440\u0443\u0436\u0438\u043b\u0438, \u0447\u0442\u043e \u0432\u0430\u0448 \u0431\u0440\u0430\u0443\u0437\u0435\u0440 \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u0443\u0435\u0442 \u0441\u0442\u043e\u0440\u043e\u043d\u043d\u044e\u044e \u0441\u043b\u0443\u0436\u0431\u0443 \u043f\u0435\u0440\u0435\u0432\u043e\u0434\u0430, \u043d\u0435 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u0438\u0440\u0443\u0435\u043c\u0443\u044e Iberia, \u043f\u043e\u044d\u0442\u043e\u043c\u0443 \u043c\u044b \u043d\u0435 \u043c\u043e\u0436\u0435\u043c \u0433\u0430\u0440\u0430\u043d\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u043e\u0435 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435 \u043d\u0430\u0448\u0438\u0445 \u0441\u0442\u0440\u0430\u043d\u0438\u0446. \",\n          body2: \"\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u043d\u0443\u0436\u043d\u044b\u0439 \u0438\u0437 \u043f\u0440\u0435\u0434\u0441\u0442\u0430\u0432\u043b\u0435\u043d\u043d\u044b\u0445 \u0437\u0434\u0435\u0441\u044c \u044f\u0437\u044b\u043a\u043e\u0432:\",\n          label: \"\u041f\u0415\u0420\u0415\u0419\u0422\u0418 \u041d\u0410 \u041d\u0410\u0428 \u0421\u0410\u0419\u0422 \u041d\u0410 \u0421\u041b\u0415\u0414\u0423\u042e\u0429\u0415\u041c \u042f\u0417\u042b\u041a\u0415: \",\n          btn_accept: \"\u041f\u0440\u0438\u043d\u044f\u0442\u044c\",\n          btn_reject: \"\u041d\u0435\u0442, \u044f \u043f\u0440\u0435\u0434\u043f\u043e\u0447\u0438\u0442\u0430\u044e \u0438\u0441\u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u044c \u043f\u0435\u0440\u0435\u0432\u043e\u0434 \u0447\u0435\u0440\u0435\u0437 \u0431\u0440\u0430\u0443\u0437\u0435\u0440\"\n        }\n      };\n\n      t483.strings_langs = {\n        es: {\n          label: \"Espa\u00f1ol\"\n        },\n        en: {\n          label: \"English\"\n        },\n        ca: {\n          label: \"Catal\u00e1\"\n        },\n        de: {\n          label: \"Deutsch\"\n        },\n        fr: {\n          label: \"Fran\u00e7ais\"\n        },\n        it: {\n          label: \"Italiano\"\n        },\n        nl: {\n          label: \"Nederlands\"\n        },\n        pt: {\n          label: \"Portugu\u00eas\"\n        },\n      };\n\n      t483.idioma4Markets = {\n        ES: \"es en ca\",\n        AT: \"es de\",\n        FR: \"es fr\",\n        BE: \"es fr en\",\n        DZ: \"es fr\",\n        MA: \"es fr\",\n        SN: \"es fr\",\n        DE: \"es de\",\n        CH: \"es de fr\",\n        BR: \"es pt\",\n        PT: \"es pt\",\n        IT: \"es it en\",\n        NL: \"es nl en\",\n        DEFAULT: \"es en\"\n      };\n\n      // t483.targetIdioma = \"es ca en\";\n      // t483.targetMercado = \"ES GB FR\";\n\n      t483.sleep_sin_idioma_ib = 15; // Solo se muestra una vez cada: 15 d\u00edas\n      t483.sleep_con_idioma_ib = 1; // Solo se muestra una vez cada: 1 d\u00edas\n\n\n      // nivel de criticidad de los mensajes de consola\n      t483.defaultLogLevel = \"debug\";\n      //Para dejar trazas en el DOM\n      // t483.defaultLogLevel = \"info\";\n    }\n\n    //-----------------------------------------\n    // FILTROS Y PROCESADO DE LA VARIANTE\n    //-----------------------------------------\n\n    function processVariant () {\n\n      //Filtros de la Experiencia\n      checkPageReady()\n      .then(respuesta => checkConditions(isTranslate))\n      .then(respuesta => checkConditions(checkSleep))\n\n      //Lanzamos la Experiencia\n      .then(respuesta => renderVariant())\n\n      //Control de errores: captura y traza\n      .catch(err => {\n          log2Con(\"Error!!! \" + err.toString(), \"error\");\n        });\n\n    }\n\n    /// functiones de propias de la variante\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n    function checkSleep() {\n      var sleep;\n      t483.mercado = window.datalayer_general.mercado;\n      t483.mercado_lang = t483.idioma4Markets[t483.mercado] == null ? \"DEFAULT\" : t483.mercado;\n      if(t483.idioma4Markets[t483.mercado_lang].indexOf(t483.html_lang) != -1){\n        sleep = t483.sleep_con_idioma_ib;\n        log2Con(\"[\" + t483.html_lang + \"] es un idioma del mercado, le recordamos cada \" + sleep + \"d\");\n      }else{\n        sleep = t483.sleep_sin_idioma_ib;\n        log2Con(\"[\" + t483.html_lang + \"] NO es un idioma del mercado, le recordamos cada \" + sleep + \"d\");\n      }\n\n      var resolve = false;\n      var diff = (Date.now() - parseInt(localStorage.getItem(\"mntt:t483:sleep\"))) / 1000 / 60 / 60 / 24;\n      if (localStorage.getItem(\"mntt:t483:sleep\") == null) {\n        log2Con(\"checkSleep ok -> primera vez\");\n        resolve = true;\n      }else if(diff >= sleep ){\n        log2Con(\"checkSleep ok -> \" + diff + \"d >= \" + sleep + \"d\");\n        resolve = true;\n      }else {\n        log2Con(\"checkSleep ko -> \" + diff + \"d < \" + sleep + \"d\");\n        resolve = false;\n      }\n      return resolve;\n    }\n\n    function isTranslate() {\n      t483.idioma = window.datalayer_general.idioma;\n      t483.html_lang = document.querySelector('html').lang;\n\n      if(t483.idioma != t483.html_lang)\n        return true;\n    }\n\n    function renderVariant() {\n\n      // Variant status definition\n      ////////////////////////////\n\n      // If at that point you are defining listener, observers, or other artifacts that doesn't change el original application behaviour,\n      // report now the experience status as \"OK - Waiting\" and include a status change to \"OK - Rendered\" in the listener/observer definition\n\n      //log2Con(\"OK - Waiting\",\"warning\");\n\n      // If you are modifing the original application behaviour, then report as \"OK - Rendered\"\n\n      log2Con(\"OK - Rendered\",\"warning\");\n      log2GTM();\n\n      // Your code here!!!\n      ///////////////////////////////\n\n      // t483.mercado = window.datalayer_general.mercado;\n      // t483.mercado_lang = t483.idioma4Markets[t483.mercado] == null ? \"DEFAULT\" : t483.mercado;\n      t483.url = window.location.href;\n\n      var idioma_experiencia;\n      var translate = \"no\";\n      if(t483.idioma4Markets[t483.mercado_lang].indexOf(t483.html_lang) != -1 || t483.strings_langs[t483.html_lang] != null){\n        idioma_experiencia = t483.html_lang;\n        translate = \"no\";\n      }else{\n        idioma_experiencia = t483.idioma;\n        translate = \"yes\";\n      }\n\n\n      t483.lang_selector = '' +\n      '<div class=\"mntt483-lang-selector\">' +\n      '  <div class=\"mntt483-lang-openner\">' +\n      '   <label class=\"ibe_form__input-label\" translate=\"' + translate + '\">' + t483.strings[idioma_experiencia].label + '</label>';\n      if(t483.idioma4Markets[t483.mercado_lang].indexOf(t483.html_lang) != -1){\n        log2Con(\"\\n[\" + t483.html_lang + \"]:\\n__SI es un idioma del mercado\\n__SI es ofrecido por IB\\n__usamos copys en '\" + idioma_experiencia + \"'\\n__permitir traductor autom\u00e1tico '\" + translate + \"'\");\n        t483.lang_selector += '   <span  translate=\"' + translate + '\" data-lang=\"' + idioma_experiencia + '\">' + t483.strings_langs[idioma_experiencia].label + '</span>';\n      }else if(t483.strings_langs[t483.html_lang] != null){\n        log2Con(\"\\n[\" + t483.html_lang + \"]:\\n__NO es un idioma del mercado\\n__SI es ofrecido por IB\\n__usamos copys en '\" + idioma_experiencia + \"'\\n__permitir traductor autom\u00e1tico '\" + translate + \"'\");\n        t483.lang_selector += '   <span  translate=\"' + translate + '\" data-lang=\"' + t483.idioma4Markets[t483.mercado_lang].substring(0,2) + '\">' + t483.strings_langs[t483.idioma4Markets[t483.mercado_lang].substring(0,2)].label + '</span>';\n      }else {\n        log2Con(\"\\n[\" + t483.html_lang + \"]:\\n__NO es un idioma del mercado\\n__NO es ofrecido por IB\\n__usamos copys en '\" + idioma_experiencia + \"'\\n__permitir traductor autom\u00e1tico '\" + translate + \"'\");\n        t483.lang_selector += '   <span  translate=\"' + translate + '\" data-lang=\"' + t483.idioma4Markets[t483.mercado_lang].substring(0,2) + '\">' + t483.strings_langs[t483.idioma4Markets[t483.mercado_lang].substring(0,2)].label + '</span>';\n      }\n      t483.lang_selector += '' +\n      '   <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" viewBox=\"0 0 16 16\" fill=\"none\"><path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M4 6H12L8 10L4 6Z\" fill=\"#666666\"/></svg></div>' +\n      '  <div class=\"mntt483-lang-wrapper\">' +\n      '    <ul>';\n      (t483.idioma4Markets[t483.mercado_lang]).split(\" \").forEach(function (idioma) {\n        t483.lang_selector += '<li translate=\"' + translate + '\" data-lang=\"' + idioma + '\">' + t483.strings_langs[idioma].label + '</li>';\n      });\n      t483.lang_selector += '' +\n      '    </ul>' +\n      '  </div>' +\n      '</div>';\n\n\n\n\n      t483.output = `\n      <div class=\"t483-translation-service-detection\">\n        <div class=\"mntt483-overlay\">\n          <div class=\"mntt483-wrapper\">\n            <button type=\"button\" class=\"mntt483-btn-close icon-cerrar\"></button>\n            <div class=\"mntt483-container\">\n              <p class=\"mntt483-title icon-alerta_grave\" translate=\"${translate}\">${t483.strings[idioma_experiencia].title}</p>\n              <p class=\"mntt483-body\" translate=\"${translate}\">${t483.strings[idioma_experiencia].body}<br><br>${t483.strings[idioma_experiencia].body2}</p>\n              <div class=\"mntt483-lang-group\">\n                ${t483.lang_selector}\n                <a class=\"mntt483-btn-accept\" translate=\"${translate}\">${t483.strings[idioma_experiencia].btn_accept}</a>\n              </div>\n              <div class=\"mntt483-btn-wrapper\">\n                <button class=\"mntt483-btn-reject\" translate=\"${translate}\">${t483.strings[idioma_experiencia].btn_reject}</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      `;\n\n      log2GTM(testName, \"Traducci\u00f3n autom\u00e1tica a: \" + t483.html_lang);\n\n      document.querySelector(\"body\").insertAdjacentHTML(\"afterbegin\",t483.output);\n\n      document.querySelector(\".mntt483-lang-openner\").addEventListener('click', function(e) {\n        document.querySelector(\".mntt483-lang-selector\").classList.toggle(\"open\");\n      });\n      document.querySelector(\".mntt483-btn-reject\").addEventListener('click', function(e) {\n        document.querySelector(\".t483-translation-service-detection\").style.display = \"none\";\n        log2GTM(testName, \"Mantiene traducci\u00f3n autom\u00e1tica en [\" + t483.html_lang + \"]\");\n        localStorage.setItem(\"mntt:t483:sleep\", Date.now());\n      });\n      document.querySelector(\".mntt483-btn-accept\").addEventListener('click', function(e) {\n        var idioma = document.querySelector(\".mntt483-lang-openner span\").dataset.lang;\n        var idioma_url;\n        if((t483.url).indexOf(\"language=\") != -1)\n          idioma_url = (t483.url).replace(\"language=\" + t483.idioma, \"language=\" + idioma);\n        else\n          idioma_url = t483.url + \"?language=\" + idioma;\n        log2GTM(testName, \"Cambia idioma de [\" + t483.html_lang + \"] a [\" + idioma + \"]\");\n        window.location.href = idioma_url;\n      });\n      document.querySelectorAll(\".mntt483-lang-wrapper li\").forEach(function(lang){\n        lang.addEventListener('click', function(e) {\n          document.querySelector(\".mntt483-lang-openner span\").dataset.lang = e.target.dataset.lang;\n          document.querySelector(\".mntt483-lang-openner span\").textContent = e.target.textContent;\n          document.querySelector(\".mntt483-lang-selector\").classList.toggle(\"open\");\n        });\n      });\n\n\n\n      ///////////////////////////////\n\n      log2Con(\"Fin de la variante\",\"info\");\n    }\n\n    /// functiones core del template\n    ///////////////////////////////////////////////////////////////////////////////////////////////////////\n\n\n\n    function wait4MNTTGF() {\n      return new Promise(function(resolve,reject) {\n\n        console.debug(new Date().toLocaleString(\"es-ES\",{timeZoneName:\"short\"}) + \" - [\" + testName + \"|\" + variantName + \"] - waiting 4 MNTTGF to load...\");\n\n        //Evaluamos si las MNTTGF se han cargado cada 100 milisegundos y si es as\u00ed resolvemos la promesa\n        setTimeout(() => {\n          const intervalMNTTGF = setInterval(function() {\n            if (window.mnttGF) {\n              log2Con(\"MNTTGF running!! :)\",\"info\");\n              clearInterval(intervalMNTTGF);\n              clearTimeout(timeoutMGTTGF);\n              resolve();\n            } else if (window.mnttGF==\"locked\") {\n              log2Con(\"ATTENTION!!!! MNTTGF LOCKED!!!!!!!!!!!!!!!!!!!!!!!!! :(\",\"warning\");\n              clearInterval(intervalMNTTGF);\n              clearTimeout(timeoutMGTTGF);\n              resolve();\n            } else if (window.mnttGF==\"loading\") {\n              log2Con(\"loading MNTTGF... :|\",\"info\");\n            }\n          },100);\n\n          //Si tras 10 segundos no se han cargado las MNTTGF rechazamos la promesa\n          const timeoutMGTTGF = setTimeout(() => {\n            clearInterval(intervalMNTTGF);\n            reject();\n          },10000);\n        },0);\n\n\n      });\n    }\n\n    function falloMNTTGFLoad() {\n      timestamp = new Date().toLocaleString(\"es-ES\",{timeZoneName:\"short\"});\n      texto = \"MNTTGF TIMEOUT!!!: No se ha cargado la experiencia MONETATE GLOBAL FUNCTIONS :(\";\n      aviso = timestamp + \" [\" + testName + \"|\" + variantName + \"]:--> \" + texto;\n\n      console.error(aviso);\n\n      avisoHTML='<div class=\"mnttgf_error\">' + timestamp + ': ' + texto + '</div>';\n\n      // lo metemos en el DOM para que lo registre QM\n\n      if (document.getElementById(\"MNTT_LOGS\")==null) {\n        output = '<div data-nosnippet id=\"MNTT_LOGS\" class=\"mnttgf_logs\" style=\"display: none;\"></div>';\n        document.querySelector(\"body\").insertAdjacentHTML(\"beforeend\", output);\n      }\n\n      idText = (testName + '_' + variantName).trim();\n\n      if (document.getElementById(idText) == null) {\n        output = '<div id=\"' + idText + '\" class=\"mnttgf_logs\" style=\"display: none;\">Monetate log: [' + testName + '][' + variantName + '] </div>';\n        document.getElementById(\"MNTT_LOGS\").insertAdjacentHTML(\"beforeend\", output);\n      }\n\n      document.getElementById(idText).insertAdjacentHTML(\"beforeend\",avisoHTML);\n    }\n\n\n\n    /// funciones proxy para MNTTGF\n    /////////////////////////////////////////////\n\n    function checkPageReady(pageCondition = function() {return true;}){\n      return mnttCheckPageReady(testName,variantName,pageCondition);\n    }\n\n    function checkConditions(funcionCondicion,conditionDescription = \"\") {\n      return mnttCheckConditions(testName,variantName,funcionCondicion,conditionDescription);\n    }\n\n    function checkTarget(target,currentValue,targetDescription = \"\") {\n      return mnttCheckTarget(testName,variantName,target,currentValue,targetDescription);\n    }\n\n    function log2Con(texto,criticidad = \"info\") {\n        mnttLog2Con(testName,variantName,texto,criticidad);\n    }\n\n    function obj2Con(objeto) {\n        mnttObj2Con(testName,variantName,objeto);\n    }\n\n    function log2GTM(test = testName, action = variantName, value = \"\") {\n        mnttLog2GTM(test,action,value);\n    }\n\n    function sendEventQM(eventNum,eventValue = \"\",eventDesc=\"\")\n    {\n        mnttSendEventQM(testName,variantName,eventNum,eventValue,eventDesc);\n    }\n\n    /////////////////////////////////////////\n\n  })();\n\n", "ref": "1123/5303600.js"});